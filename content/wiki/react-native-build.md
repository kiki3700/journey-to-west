---
title: 'React Native Build'
slug: 'react-native-build'
---
# **리액트 네이티브 전체 파이프라인**

전체 흐름:  
Source Code (.tsx) \-\> \[1. Babel\] \-\> \[2. Metro\] \-\> \[3. Prebuild\] \-\> \[4. Native Build\] \-\> \[5. Runtime\]

## **1단계: 트랜스파일링 (Babel)**

**"자바스크립트 엔진 호환성 확보 및 구문 변환"**  
개발자가 작성한 최신 문법의 코드는 모바일 기기의 자바스크립트 엔진이 직접 해석할 수 없는 경우가 많습니다. Babel은 이를 실행 가능한 형태의 표준 자바스크립트로 변환합니다.

* **주요 역할:** 소스 코드 변환기 (Transpiler).  
* **세부 작업:**  
  * **JSX 변환:** \<View\>와 같은 JSX 문법을 React.createElement('View', ...) 형태의 함수 호출 구문으로 변환합니다.  
  * **TypeScript 제거:** 정적 타입 검사를 위한 타입 어노테이션(Type Annotation)을 제거하여 순수 자바스크립트 코드로 만듭니다.  
  * **폴리필(Polyfill) 주입:** 최신 자바스크립트 기능을 구버전 엔진에서도 사용할 수 있도록 호환 코드를 추가합니다.  
* **결과물:** 엔진이 해석 가능한 다수의 자바스크립트 파일.

## **2단계: 번들링 (Metro Bundler)**

**"의존성 해결 및 모듈 패키징"**  
Babel이 변환한 수많은 파일들과 node\_modules의 라이브러리들을 하나의 파일로 병합하는 과정입니다. 웹 개발의 Webpack과 유사하나 리액트 네이티브 환경에 최적화되어 있습니다.

* **주요 역할:** 의존성 그래프 생성 및 단일 파일 병합.  
* **세부 작업:**  
  * **Resolution (모듈 해석):** 플랫폼별 파일 확장자를 우선순위에 따라 처리합니다. 예를 들어 import Button 수행 시 빌드 타겟이 iOS라면 Button.ios.js를, 안드로이드라면 Button.android.js를 자동으로 선택하여 포함합니다.  
  * **Serialization (직렬화):** 모든 모듈에 고유 ID를 부여하고, 실행 순서를 보장하며 하나의 거대한 파일(index.bundle)로 합칩니다.  
* **결과물:** 단일 자바스크립트 번들 파일 (String 형태).

## **3단계: 프리빌드 (Prebuild / Expo Specific)**

**"네이티브 프로젝트 생성 및 설정 주입"**  
Expo 관리형 워크플로우(Managed Workflow)에서 사용되는 단계입니다. android 및 ios 디렉토리를 직접 관리하지 않고, 설정 파일을 통해 빌드 시점에 생성합니다.

* **주요 역할:** 설정 파일 기반의 네이티브 프로젝트 디렉토리 생성.  
* **세부 작업:**  
  * **설정 주입:** app.json 등에 정의된 설정(권한, 앱 이름 등)을 바탕으로 AndroidManifest.xml (Android) 및 Info.plist (iOS) 파일을 생성하고 내용을 주입합니다.  
  * **리소스 복사:** 앱 아이콘, 스플래시 스크린 등의 이미지 리소스를 각 네이티브 플랫폼의 표준 경로에 맞게 배치합니다.  
* **특징:** 이 과정을 통해 Expo 환경에서도 네이티브 모듈을 포함한 커스텀 빌드가 가능해집니다.

## **4단계: 네이티브 빌드 & 패키징 (Native Build)**

**"실행 가능한 바이너리 생성"**  
준비된 JS 번들과 네이티브 프로젝트 코드를 결합하여 설치 파일(APK, IPA)을 생성합니다.

* **도구:** Gradle (Android), Xcodebuild (iOS).  
* **세부 작업:**  
  * **바이너리 컴파일:** Java/Kotlin, Objective-C/Swift로 작성된 네이티브 코드를 기계어로 컴파일합니다.  
  * **에셋 임베딩:** 2단계에서 생성된 JS 번들 파일을 앱 내부의 특정 에셋 디렉토리(예: assets/index.android.bundle)에 복사하여 포함시킵니다.  
* **결과물:** .apk / .aab (Android), .ipa (iOS) 설치 파일.

## **5단계: 런타임 실행 (Runtime \- Hermes Engine)**

**"디바이스 내 프로세스 실행 및 초기화"**  
사용자가 앱을 실행했을 때 디바이스 내부에서 일어나는 동작 과정입니다.

1. **앱 프로세스 시작:** 운영체제가 앱 프로세스를 메모리에 로드하고 네이티브 실행 환경을 구성합니다.  
2. **JS 엔진 초기화:** 앱 내부에 탑재된 자바스크립트 엔진(Hermes 또는 JSC)이 초기화됩니다.  
3. **번들 로드:** 엔진이 앱 에셋에 포함된 JS 번들 파일을 메모리로 로드합니다.  
   * **최적화 (Hermes):** Hermes 엔진을 사용할 경우, 빌드 단계에서 미리 바이트코드(Bytecode)로 변환된 번들을 로드하므로 런타임에서의 파싱 비용이 제거되어 초기 구동 속도(TTI)가 향상됩니다.  
4. **실행:** 로드된 JS 코드가 실행되며 AppRegistry.registerComponent를 호출하여 리액트 컴포넌트 트리를 구성하고 첫 화면 렌더링을 시작합니다.
