---
title: Https
slug: "https"
---

## 개요

- Https란? 보안상 취약점이 있는 Http프로토콜에 보안(TLS, SSL) 계층을 추가해 통신시 암호화를 통해 데이터를 안전하게 보호한다.
- SSL과 TLS는 보안 SSL의 보안 취약점이 밝혀져, TLS가 그의 후속 프로토콜로 사용하고 있다.
- 특징
  - 기밀성: 클라이언트와 서버 간의 데이터를 암호화한다.
  - 무결설: 데이터를 해싱한 서명을 사용하여, 데이터의 변조 여부를 확인할 수 있다.
  - 인증: 클라이언트는 서버가 제공한 인증서를 CA에 인증 바받아, 서버의 신뢰성을 확인할 수 있다.
  - 이러한 안정성을 기반으로 검색엔진은 HTTPS를 사용하는 웹사이트를 더 높은 순위로 평가한다.

## 과정

- SSL/TLS 핸드쉐이크: 클라이언트와 서버간 안전한 통신 채널을 설정하기 위한 과정
  - ssl/tls 핸드셰이크는 TCP 핸드 쉐이크 이후에 이뤄진다.
  1.  Client hello: 클라이언가 서버에 TLS 통신을 시작하기 위해 보내는 메세지로, 지원하는 TLS버전, 암호화 알고리즘, 압축 방법을 제안한다.
  2.  Server Hello: 서버는 클라이언트의 요청을 수락하고 사용할 TLS버전, 암호화 알고리즘, 압축 방법을 프로토콜을 선택한다.
  3.  서버 인증서 전송: 서버는 자신의 SSL/ TLS 인증서를 클라이언트에게 전송하여 자신의 신원을 증명
  4.  클라이언트 인증서 요청: 서버거 클라이언트의 신원을 인증하려는 경우, 클라이언트 인증서를 요청할 수 있다.
  5.  비밀 키 교환 : 클라이언트와 서버는 세션 키(대칭키)를 생성하기 위해 키 교환을 수행한다.
      - 키 교환 방식으로는: 디피 헬만 키 교환, RSA 키교환 방식이 있다.
        - 디피 헬만: 공통 파라미터를 사용하여, 직접적인 세션키 교환 없이, 서로의 공개키와 자신의 비밀키를 사용하여, 서로가 세션키를 사용할 수 있다.
        - RSA 키교환 방식: 클라이언트는 서버의 공개키를 사용하여 임의의 세션키를 암호화 하여 서버에 전송
  6.  데이터 암호화 및 전송:
      - 세션키가 설정되면, 클라이언트와 서버는 이 키를 사용하여 주고 받는 모든 데이터를 암호화한다.
  7.  데이터 수신 및 복호화:
      - 수신자는 세션키를 사용해 암호화된 데이터를 복호화하고, 원본 데이터를 확인할 수 있다.
